<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yusuf Akdeniz Hair Palace | Yönetim</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');
        body { font-family: 'Inter', sans-serif; background: #0f172a; color: white; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
        .card-active { border-left: 4px solid #f472b6; }
        .tab-btn.active { border-bottom: 3px solid #f472b6; color: #f472b6; }
    </style>
</head>
<body class="pb-24">

    <div id="loginPage" class="fixed inset-0 bg-slate-950 z-[200] flex flex-col items-center justify-center p-8">
        <div class="mb-10 text-center">
            <div class="w-24 h-24 bg-gradient-to-tr from-pink-500 to-violet-600 rounded-full flex items-center justify-center mx-auto shadow-2xl mb-4">
                <i class="fas fa-scissors text-4xl text-white"></i>
            </div>
            <h1 class="text-3xl font-black tracking-tighter uppercase">Yusuf Akdeniz</h1>
            <p class="text-pink-500 font-medium tracking-widest text-xs uppercase">Hair Palace Panel</p>
        </div>
        <div class="w-full max-w-sm space-y-4">
            <input id="user" type="text" placeholder="Kullanıcı Adı" class="w-full p-4 bg-slate-900 border border-slate-800 rounded-2xl outline-none focus:border-pink-500 transition-all">
            <input id="pass" type="password" placeholder="Şifre" class="w-full p-4 bg-slate-900 border border-slate-800 rounded-2xl outline-none focus:border-pink-500 transition-all">
            <button onclick="login()" class="w-full bg-pink-600 hover:bg-pink-500 text-white p-4 rounded-2xl font-bold shadow-lg transition-all active:scale-95">Sisteme Giriş Yap</button>
        </div>
    </div>

    <div id="mainContent" class="hidden">
        <header class="p-6 flex justify-between items-center sticky top-0 bg-slate-950/80 backdrop-blur-md z-50">
            <div>
                <h2 class="text-xl font-extrabold uppercase tracking-tight">Hair Palace</h2>
                <p class="text-[10px] text-pink-500 font-bold" id="activeUserDisplay"></p>
            </div>
            <div class="flex gap-4">
                <button onclick="logout()" class="text-slate-500 hover:text-red-500"><i class="fas fa-power-off text-xl"></i></button>
            </div>
        </header>

        <div class="px-6 grid grid-cols-2 gap-4 mb-8">
            <div class="glass p-4 rounded-3xl">
                <p class="text-[10px] text-slate-400 font-bold uppercase mb-1">Bugün Kasa</p>
                <p id="toplamKasa" class="text-2xl font-black text-green-400">0 TL</p>
            </div>
            <div class="glass p-4 rounded-3xl">
                <p class="text-[10px] text-slate-400 font-bold uppercase mb-1">Randevular</p>
                <p id="toplamRandevu" class="text-2xl font-black text-pink-400">0</p>
            </div>
        </div>

        <div class="px-6 flex gap-6 mb-6 border-b border-slate-800">
            <button onclick="changeTab('randevu')" id="btn-randevu" class="tab-btn pb-2 text-sm font-bold active">RANDEVULAR</button>
            <button onclick="changeTab('kasa')" id="btn-kasa" class="tab-btn pb-2 text-sm font-bold text-slate-500">KASA/İŞLEMLER</button>
            <button onclick="changeTab('arsiv')" id="btn-arsiv" class="tab-btn pb-2 text-sm font-bold text-slate-500">BOYA ARŞİVİ</button>
        </div>

        <div id="tab-randevu" class="tab-content px-6 space-y-4">
            <div class="glass p-5 rounded-[2rem] space-y-3">
                <h3 class="text-sm font-bold text-pink-500"><i class="fas fa-calendar-plus mr-2"></i>Yeni Randevu Oluştur</h3>
                <input id="r_ad" type="text" placeholder="Müşteri Adı" class="w-full bg-slate-900/50 p-3 rounded-xl border border-slate-700 outline-none">
                <div class="flex gap-2">
                    <input id="r_saat" type="time" class="w-1/2 bg-slate-900/50 p-3 rounded-xl border border-slate-700 outline-none">
                    <input id="r_tarih" type="date" class="w-1/2 bg-slate-900/50 p-3 rounded-xl border border-slate-700 outline-none">
                </div>
                <button onclick="randevuEkle()" class="w-full bg-pink-600 p-3 rounded-xl font-bold shadow-lg shadow-pink-900/20">LİSTEYE EKLE</button>
            </div>
            <div id="randevuListe" class="space-y-3"></div>
        </div>

        <div id="tab-kasa" class="tab-content hidden px-6 space-y-4">
            <div class="glass p-5 rounded-[2rem] space-y-3">
                <h3 class="text-sm font-bold text-green-500"><i class="fas fa-cash-register mr-2"></i>İşlem/Gider Kaydet</h3>
                <input id="k_ad" type="text" placeholder="Müşteri veya Gider Adı" class="w-full bg-slate-900/50 p-3 rounded-xl border border-slate-700 outline-none">
                <div class="flex gap-2">
                    <select id="k_tip" class="w-1/2 bg-slate-900/50 p-3 rounded-xl border border-slate-700 outline-none">
                        <option value="gelir">GELİR (+)</option>
                        <option value="gider">GİDER (-)</option>
                    </select>
                    <input id="k_tutar" type="number" placeholder="Tutar TL" class="w-1/2 bg-slate-900/50 p-3 rounded-xl border border-slate-700 outline-none">
                </div>
                <textarea id="k_not" placeholder="Boya numaraları veya işlem detayı..." class="w-full bg-slate-900/50 p-3 rounded-xl border border-slate-700 outline-none h-20 text-xs"></textarea>
                <button onclick="kasaEkle()" class="w-full bg-green-600 p-3 rounded-xl font-bold">KASAYA İŞLE</button>
            </div>
            <div id="kasaListe" class="space-y-3"></div>
        </div>

        <div id="tab-arsiv" class="tab-content hidden px-6">
            <input type="text" onkeyup="arsivAra()" id="arsivSearch" placeholder="Müşteri isminden boya ara..." class="w-full bg-slate-900 p-4 rounded-2xl border border-slate-800 mb-4 outline-none">
            <div id="arsivListe" class="space-y-3"></div>
        </div>

    </div>

    <script>
        let data = JSON.parse(localStorage.getItem('hp_data')) || { randevular: [], kasa: [] };

        function login() {
            const u = document.getElementById('user').value;
            const p = document.getElementById('pass').value;
            if(u === 'admin' && p === '1234') {
                document.getElementById('loginPage').classList.add('hidden');
                document.getElementById('mainContent').classList.remove('hidden');
                document.getElementById('activeUserDisplay').innerText = "HOŞ GELDİN, YUSUF AKDENİZ";
                renderAll();
            } else { alert("Hatalı Giriş!"); }
        }

        function changeTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active', 'text-pink-500'));
            document.getElementById('tab-' + tabName).classList.remove('hidden');
            document.getElementById('btn-' + tabName).classList.add('active', 'text-pink-500');
        }

        function randevuEkle() {
            const ad = document.getElementById('r_ad').value;
            const saat = document.getElementById('r_saat').value;
            const tarih = document.getElementById('r_tarih').value;
            if(!ad || !saat) return alert("Bilgileri giriniz!");
            
            data.randevular.unshift({ id: Date.now(), ad, saat, tarih: tarih || "Bugün", status: 'bekliyor' });
            save();
            document.getElementById('r_ad').value = "";
        }

        function kasaEkle() {
            const ad = document.getElementById('k_ad').value;
            const tip = document.getElementById('k_tip').value;
            const tutar = Number(document.getElementById('k_tutar').value);
            const not = document.getElementById('k_not').value;
            if(!ad || !tutar) return alert("Eksik bilgi!");

            data.kasa.unshift({ id: Date.now(), ad, tip, tutar, not, tarih: new Date().toLocaleDateString('tr-TR') });
            save();
            document.getElementById('k_ad').value = "";
            document.getElementById('k_tutar').value = "";
            document.getElementById('k_not').value = "";
        }

        function renderAll() {
            const rListe = document.getElementById('randevuListe');
            const kListe = document.getElementById('kasaListe');
            const aListe = document.getElementById('arsivListe');
            
            rListe.innerHTML = ""; kListe.innerHTML = ""; aListe.innerHTML = "";
            let kasaTop = 0;

            data.randevular.forEach(r => {
                rListe.innerHTML += `<div class="glass p-4 rounded-2xl flex justify-between items-center border-l-4 border-pink-500">
                    <div><p class="font-bold text-sm">${r.ad}</p><p class="text-[10px] text-slate-400">${r.tarih} | ${r.saat}</p></div>
                    <button onclick="sil('r', ${r.id})" class="text-slate-600"><i class="fas fa-trash"></i></button>
                </div>`;
            });

            data.kasa.forEach(k => {
                if(k.tip === 'gelir') kasaTop += k.tutar; else kasaTop -= k.tutar;
                kListe.innerHTML += `<div class="glass p-4 rounded-2xl flex justify-between items-start border-l-4 ${k.tip === 'gelir' ? 'border-green-500' : 'border-red-500'}">
                    <div><p class="font-bold text-sm">${k.ad}</p><p class="text-[10px] text-slate-400">${k.tarih}</p><p class="text-[10px] text-pink-400 mt-1">${k.not || ''}</p></div>
                    <p class="font-bold ${k.tip === 'gelir' ? 'text-green-400' : 'text-red-400'}">${k.tip === 'gelir' ? '+' : '-'}${k.tutar} TL</p>
                </div>`;
                
                if(k.not) {
                    aListe.innerHTML += `<div class="glass p-4 rounded-2xl">
                        <p class="font-bold text-pink-500 text-sm">${k.ad}</p>
                        <p class="text-xs text-slate-300 mt-2">${k.not}</p>
                        <p class="text-[8px] text-slate-500 mt-2 uppercase">${k.tarih}</p>
                    </div>`;
                }
            });

            document.getElementById('toplamKasa').innerText = kasaTop + " TL";
            document.getElementById('toplamRandevu').innerText = data.randevular.length;
        }

        function sil(tip, id) {
            if(!confirm("Silmek istediğine emin misin?")) return;
            if(tip === 'r') data.randevular = data.randevular.filter(x => x.id !== id);
            save();
        }

        function save() {
            localStorage.setItem('hp_data', JSON.stringify(data));
            renderAll();
        }

        function logout() { location.reload(); }
    </script>
</body>
</html>
