<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yusuf Akdeniz | Pro Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap');
        body { font-family: 'Outfit', sans-serif; background: #080a10; color: #e2e8f0; }
        .glass-dark { background: rgba(17, 24, 39, 0.8); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.05); }
        .tab-active { color: #f472b6; border-bottom: 3px solid #f472b6; }
        .income-col { background: rgba(34, 197, 94, 0.05); border-radius: 1.5rem; border: 1px solid rgba(34, 197, 94, 0.1); }
        .expense-col { background: rgba(239, 68, 68, 0.05); border-radius: 1.5rem; border: 1px solid rgba(239, 68, 68, 0.1); }
    </style>
</head>
<body class="pb-20">

    <div id="loginPage" class="fixed inset-0 bg-black z-[500] flex flex-col items-center justify-center p-6">
        <h1 class="text-3xl font-black text-pink-500 mb-8 uppercase tracking-widest italic">Yusuf Akdeniz</h1>
        <div class="w-full max-w-sm space-y-4">
            <input id="user" type="text" placeholder="Admin" class="w-full p-4 bg-gray-900 rounded-2xl border border-gray-800 outline-none focus:border-pink-500">
            <input id="pass" type="password" placeholder="Şifre" class="w-full p-4 bg-gray-900 rounded-2xl border border-gray-800 outline-none focus:border-pink-500">
            <button onclick="login()" class="w-full bg-pink-600 p-4 rounded-2xl font-bold uppercase tracking-widest">GİRİŞ</button>
        </div>
    </div>

    <div id="mainContent" class="hidden">
        <header class="p-6 bg-black/40 sticky top-0 z-50 backdrop-blur-md flex justify-between items-center border-b border-white/5">
            <h2 class="text-xl font-black italic">Hair Palace</h2>
            <button onclick="logout()" class="text-gray-500"><i class="fas fa-power-off text-xl"></i></button>
        </header>

        <div class="p-6 grid grid-cols-3 gap-3">
            <div class="glass-dark p-4 rounded-2xl text-center border-b-4 border-green-500">
                <p class="text-[10px] font-bold text-gray-500">GELİR</p>
                <p id="sum-gelir" class="font-black text-green-400">0</p>
            </div>
            <div class="glass-dark p-4 rounded-2xl text-center border-b-4 border-red-500">
                <p class="text-[10px] font-bold text-gray-500">GİDER</p>
                <p id="sum-gider" class="font-black text-red-400">0</p>
            </div>
            <div class="glass-dark p-4 rounded-2xl text-center border-b-4 border-pink-500">
                <p class="text-[10px] font-bold text-gray-500">NET</p>
                <p id="sum-net" class="font-black text-white">0</p>
            </div>
        </div>

        <div class="px-6 flex justify-around mb-6">
            <button onclick="setTab('r')" id="btn-r" class="pb-2 font-bold text-sm tab-active uppercase">Randevular</button>
            <button onclick="setTab('k')" id="btn-k" class="pb-2 font-bold text-sm text-gray-500 uppercase">Kasa (Sütunlu)</button>
            <button onclick="setTab('a')" id="btn-a" class="pb-2 font-bold text-sm text-gray-500 uppercase">Boya Arşivi</button>
        </div>

        <div id="tab-r" class="tab-view px-6 space-y-6">
            <div class="glass-dark p-5 rounded-3xl">
                <h3 class="text-xs font-black text-pink-500 mb-4 uppercase tracking-tighter">Yeni Randevu Kaydı</h3>
                <div class="grid gap-3">
                    <input id="r_ad" type="text" placeholder="Müşteri Adı" class="bg-black/20 p-4 rounded-xl border border-gray-800 outline-none">
                    <div class="flex gap-2">
                        <input id="r_saat" type="time" class="w-1/2 bg-black/20 p-4 rounded-xl border border-gray-800 outline-none">
                        <input id="r_tarih" type="date" class="w-1/2 bg-black/20 p-4 rounded-xl border border-gray-800 outline-none">
                    </div>
                    <button onclick="addR()" class="bg-pink-600 p-4 rounded-xl font-bold uppercase text-xs">Kaydet</button>
                </div>
            </div>
            
            <div class="space-y-4">
                <h4 class="text-xs font-bold text-gray-500 uppercase tracking-widest border-l-4 border-pink-500 pl-2">Bugünün Randevuları</h4>
                <div id="list-bugun" class="space-y-3"></div>
                
                <h4 class="text-xs font-bold text-gray-500 uppercase tracking-widest border-l-4 border-blue-500 pl-2 mt-8">Gelecek Randevular</h4>
                <div id="list-yarın" class="space-y-3"></div>
            </div>
        </div>

        <div id="tab-k" class="tab-view hidden px-4">
            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="income-col p-3">
                    <h3 class="text-[10px] font-black text-green-500 mb-4 text-center uppercase tracking-widest border-b border-green-500/20 pb-2">Gelirler (+)</h3>
                    <div id="col-gelir" class="space-y-3"></div>
                </div>
                <div class="expense-col p-3">
                    <h3 class="text-[10px] font-black text-red-500 mb-4 text-center uppercase tracking-widest border-b border-red-500/20 pb-2">Giderler (-)</h3>
                    <div id="col-gider" class="space-y-3"></div>
                </div>
            </div>

            <div class="glass-dark p-6 rounded-[2rem] border-t-4 border-white/10">
                <input id="k_ad" type="text" placeholder="İşlem veya Gider Adı" class="w-full bg-black/40 p-4 rounded-xl mb-3 border border-gray-800 outline-none">
                <div class="flex gap-2 mb-3">
                    <select id="k_tip" class="w-1/2 bg-black/40 p-4 rounded-xl border border-gray-800 outline-none text-xs">
                        <option value="gelir">GELİR (+)</option>
                        <option value="gider">GİDER (-)</option>
                    </select>
                    <input id="k_ucret" type="number" placeholder="Tutar TL" class="w-1/2 bg-black/40 p-4 rounded-xl border border-gray-800 outline-none">
                </div>
                <textarea id="k_not" placeholder="Boya numaraları veya notlar..." class="w-full bg-black/40 p-4 rounded-xl h-20 border border-gray-800 outline-none text-xs"></textarea>
                <button onclick="addK()" class="w-full bg-white text-black p-4 rounded-xl font-black uppercase text-[10px]">Veriyi İşle</button>
            </div>
        </div>

        <div id="tab-a" class="tab-view hidden px-6">
            <input onkeyup="searchArsiv()" id="arsivIn" type="text" placeholder="Müşteri isminden boya ara..." class="w-full bg-gray-900 p-4 rounded-2xl border border-gray-800 outline-none mb-6">
            <div id="list-arsiv" class="space-y-4 pb-10"></div>
        </div>
    </div>

    <script>
        let db = JSON.parse(localStorage.getItem('yusuf_pro_v1')) || { r: [], k: [] };
        const bugunTarih = new Date().toISOString().split('T')[0];

        function login() {
            if(document.getElementById('user').value === 'admin' && document.getElementById('pass').value === '1234') {
                document.getElementById('loginPage').classList.add('hidden');
                document.getElementById('mainContent').classList.remove('hidden');
                render();
            } else alert("Hatalı Giriş!");
        }

        function setTab(t) {
            document.querySelectorAll('.tab-view').forEach(v => v.classList.add('hidden'));
            document.querySelectorAll('button[id^="btn-"]').forEach(b => b.classList.remove('tab-active', 'text-pink-500'));
            document.getElementById('tab-'+t).classList.remove('hidden');
            document.getElementById('btn-'+t).classList.add('tab-active', 'text-pink-500');
        }

        function addR() {
            const ad = document.getElementById('r_ad').value;
            const saat = document.getElementById('r_saat').value;
            const tarih = document.getElementById('r_tarih').value || bugunTarih;
            if(!ad || !saat) return;
            db.r.push({ id: Date.now(), ad, saat, tarih });
            save();
            document.getElementById('r_ad').value = "";
        }

        function addK() {
            const ad = document.getElementById('k_ad').value;
            const tip = document.getElementById('k_tip').value;
            const ucret = Number(document.getElementById('k_ucret').value);
            const not = document.getElementById('k_not').value;
            if(!ad || !ucret) return;
            db.k.
