<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yusuf Akdeniz | Pro Yönetim</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background: #000; color: #fff; margin: 0; }
        .tab-btn.active { color: #ec4899; border-bottom: 3px solid #ec4899; }
        .glass-box { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; }
        input, select, textarea { background: #111 !important; color: #fff !important; border: 1px solid #333 !important; }
    </style>
</head>
<body class="pb-20">

    <div id="loginPage" class="fixed inset-0 bg-black z-[999] flex flex-col items-center justify-center p-8">
        <h1 class="text-4xl font-black italic text-pink-500 mb-10 tracking-tighter">YUSUF AKDENİZ</h1>
        <div class="w-full max-w-xs space-y-4">
            <input id="u" type="text" placeholder="Kullanıcı Adı" class="w-full p-4 rounded-xl outline-none">
            <input id="p" type="password" placeholder="Şifre" class="w-full p-4 rounded-xl outline-none">
            <button onclick="checkLogin()" class="w-full bg-pink-600 p-4 rounded-xl font-bold uppercase tracking-widest active:scale-95 transition-transform">Giriş Yap</button>
        </div>
    </div>

    <div id="app" class="hidden">
        <header class="p-6 border-b border-white/10 flex justify-between items-center bg-black/50 backdrop-blur-md sticky top-0 z-50">
            <h2 class="text-xl font-black italic tracking-tighter">HAIR PALACE</h2>
            <button onclick="location.reload()" class="text-gray-500"><i class="fas fa-power-off"></i></button>
        </header>

        <div class="p-4 grid grid-cols-3 gap-2">
            <div class="glass-box p-3 text-center border-b-2 border-green-500">
                <p class="text-[9px] font-bold text-gray-500 uppercase">Gelir</p>
                <p id="totalGelir" class="font-bold text-green-500">0</p>
            </div>
            <div class="glass-box p-3 text-center border-b-2 border-red-500">
                <p class="text-[9px] font-bold text-gray-500 uppercase">Gider</p>
                <p id="totalGider" class="font-bold text-red-500">0</p>
            </div>
            <div class="glass-box p-3 text-center border-b-2 border-pink-500">
                <p class="text-[9px] font-bold text-gray-500 uppercase">Kasa</p>
                <p id="totalNet" class="font-bold">0</p>
            </div>
        </div>

        <div class="flex justify-around border-b border-white/5 bg-black">
            <button onclick="showTab('r')" id="br" class="tab-btn py-4 px-2 text-xs font-bold active">RANDEVULAR</button>
            <button onclick="showTab('k')" id="bk" class="tab-btn py-4 px-2 text-xs font-bold text-gray-500">KASA (AYRI SÜTUN)</button>
            <button onclick="showTab('a')" id="ba" class="tab-btn py-4 px-2 text-xs font-bold text-gray-500">BOYA NOTLARI</button>
        </div>

        <div id="tab-r" class="p-4 space-y-6">
            <div class="glass-box p-4 space-y-3">
                <p class="text-[10px] font-bold text-pink-500 uppercase">Yeni Randevu Ekle</p>
                <input id="rn" type="text" placeholder="Müşteri Adı" class="w-full p-3 rounded-lg outline-none">
                <div class="flex gap-2">
                    <input id="rs" type="time" class="w-1/2 p-3 rounded-lg outline-none">
                    <input id="rt" type="date" class="w-1/2 p-3 rounded-lg outline-none">
                </div>
                <button onclick="addRandevu()" class="w-full bg-pink-600 p-3 rounded-lg font-bold text-xs uppercase">Ekle</button>
            </div>
            
            <div class="space-y-4">
                <h3 class="text-xs font-black text-gray-400 border-l-2 border-pink-500 pl-2 uppercase">Bugünün Randevuları</h3>
                <div id="listBugun" class="space-y-2"></div>
                
                <h3 class="text-xs font-black text-gray-400 border-l-2 border-blue-500 pl-2 uppercase mt-6">Gelecek Randevular</h3>
                <div id="listGelecek" class="space-y-2"></div>
            </div>
        </div>

        <div id="tab-k" class="hidden p-4">
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="space-y-3">
                    <p class="text-[10px] font-black text-green-500 text-center uppercase border-b border-green-500/20 pb-2">Gelirler (+)</p>
                    <div id="colGelir" class="space-y-2"></div>
                </div>
                <div class="space-y-3">
                    <p class="text-[10px] font-black text-red-500 text-center uppercase border-b border-red-500/20 pb-2">Giderler (-)</p>
                    <div id="colGider" class="space-y-2"></div>
                </div>
            </div>
            <div class="glass-box p-5 space-y-3 mt-10">
                <p class="text-[10px] font-bold text-gray-400 uppercase">İşlem / Gider Kaydı</p>
                <input id="kn" type="text" placeholder="Açıklama" class="w-full p-3 rounded-lg">
                <div class="flex gap-2">
                    <select id="kt" class="w-1/2 p-3 rounded-lg">
                        <option value="gelir">GELİR (+)</option>
                        <option value="gider">GİDER (-)</option>
                    </select>
                    <input id="kf" type="number" placeholder="Fiyat" class="w-1/2 p-3 rounded-lg font-bold">
                </div>
                <textarea id="km" placeholder="Boya No / Detay..." class="w-full p-3 rounded-lg h-16 text-xs"></textarea>
                <button onclick="addKasa()" class="w-full bg-white text-black p-3 rounded-lg font-bold text-xs">KAYDET</button>
            </div>
        </div>

        <div id="tab-a" class="hidden p-4">
            <input onkeyup="find()" id="src" type="text" placeholder="İsimden boya ara..." class="w-full p-4 rounded-xl mb-4">
            <div id="listArsiv" class="space-y-3"></div>
        </div>
    </div>

    <script>
        let db = JSON.parse(localStorage.getItem('HP_DB_V2')) || { r: [], k: [] };
        const today = new Date().toISOString().split('T')[0];

        function checkLogin() {
            if(document.getElementById('u').value === 'admin' && document.getElementById('p').value === '1234') {
                document.getElementById('loginPage').style.display = 'none';
                document.getElementById('app').classList.remove('hidden');
                update();
            } else alert("Hata!");
        }

        function showTab(t) {
            ['r','k','a'].forEach(id => {
                document.getElementById('tab-'+id).classList.add('hidden');
                document.getElementById('b'+id).classList.remove('active', 'text-pink-500');
            });
            document.getElementById('tab-'+t).classList.remove('hidden');
            document.getElementById('b'+t).classList.add('active', 'text-pink-500');
        }

        function addRandevu() {
            const n = document.getElementById('rn').value;
            const s = document.getElementById('rs').value;
            const t = document.getElementById('rt').value || today;
            if(!n || !s) return;
            db.r.push({ id: Date.now(), n, s, t });
            save();
            document.getElementById('rn').value = "";
        }

        function addKasa() {
            const n = document.getElementById('kn').value;
            const f = Number(document.getElementById('kf').value);
            const t = document.getElementById('kt').value;
            const m = document.getElementById('km').value;
            if(!n || !f) return;
            db.k.unshift({ id: Date.now(), n, f, t, m, d: new Date().toLocaleDateString('tr-TR') });
            save();
            document.getElementById('kn').value = ""; document.getElementById('kf').value = "";
        }

        function update() {
            const bl = document.getElementById('listBugun'); const gl = document.getElementById('listGelecek');
            const cg = document.getElementById('colGelir'); const cd = document.getElementById('colGider');
            const al = document.getElementById('listArsiv');
            bl.innerHTML = ""; gl.innerHTML = ""; cg.innerHTML = ""; cd.innerHTML = ""; al.innerHTML = "";
            let sGelir = 0, sGider = 0;

            db.r.sort((a,b)=>a.s.localeCompare(b.s)).forEach(x => {
                let h = `<div class="glass-box p-3 flex justify-between items-center text-xs">
                    <span><b>${x.s}</b> - ${x.n}</span>
                    <button onclick="del('r',${x.id})" class="text-gray-600"><i class="fas fa-trash text-[10px]"></i></button>
                </div>`;
                x.t === today ? bl.innerHTML += h : gl.innerHTML += h;
            });

            db.k.forEach(x => {
                let h = `<div class="glass-box p-2 text-[10px]">
                    <p class="font-bold">${x.n}</p>
                    <p class="${x.t==='gelir'?'text-green-500':'text-red-500'} font-black text-xs">${x.f} TL</p>
                </div>`;
                if(x.t==='gelir') { cg.innerHTML += h; sGelir += x.f; } 
                else { cd.innerHTML += h; sGider += x.f; }
                if(x.m) al.innerHTML += `<div class="glass-box p-3 text-xs"><p class="text-pink-500 font-bold mb-1 uppercase">${x.n}</p><p class="text-gray-400 italic">${x.m}</p><p class="text-[8px] text-gray-700 mt-2">${x.d}</p></div>`;
            });

            document.getElementById('totalGelir').innerText = sGelir + " TL";
            document.getElementById('totalGider').innerText = sGider + " TL";
            document.getElementById('totalNet').innerText = (sGelir-sGider) + " TL";
        }

        function del(t,id) { if(confirm('Sil?')) { if(t==='r') db.r=db.r.filter(i=>i.id!==id); save(); } }
        function save() { localStorage.setItem('HP_DB_V2', JSON.stringify(db)); update(); }
        function find() {
            let v = document.getElementById('src').value.toLowerCase();
            document.querySelectorAll('#listArsiv > div').forEach(d => d.style.display = d.innerText.toLowerCase().includes(v)?'block':'none');
        }
    </script>
</body>
</html>
